<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#33363b">
    <meta name="msapplication-TileColor" content="#33363b">
    
    
    <meta name="google-site-verification" content="kOB5iIggmllOLTY_QVBa4MDIIRs7f8LTu7B-pHaMWV8">
    
    
    <meta name="keywords" content="C++, LFsWang">
    
    
    <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
    
    
    <link rel="icon" type="image/png" sizes="192x192" href="/favicons/android-chrome-192x192.png">
    
    
    <link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
    
    
    <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
    
    
    <link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#33363b">
    
    
    <link rel="manifest" href="/favicons/site.webmanifest">
    
    
    <meta name="msapplication-config" content="/favicons/browserconfig.xml">
    
    
    <link rel="alternate" href="/atom.xml" title="LFsWang's World" type="application/atom+xml" />
    
    
    <link rel="shortcut icon" type="image/x-icon" href="/favicons/favicon.ico">
    
    
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Noto+Sans">
    
    <link rel="stylesheet" type="text/css" href="/css/normalize.css">
    <link rel="stylesheet" type="text/css" href="/css/index.css">
    
    <link rel="stylesheet" type="text/css" href="/css/sidebar.css">
    
    
<link rel="stylesheet" type="text/css" href="/css/page.css">
<link rel="stylesheet" type="text/css" href="/css/post.css">

    <link rel="stylesheet" type="text/css" href="/css/custom.css">
    <link rel="stylesheet" type="text/css" href="/css/atom-one-dark.css">
    <link rel="stylesheet" type="text/css" href="/css/lightgallery.min.css">
    <script type="text/javascript" src="/js/jquery.min.js"></script>
    <script defer type="text/javascript" src="/js/util.js"></script>
    <script defer type="text/javascript" src="/js/scrollspy.js"></script>
    <script defer type="text/javascript" src="/js/fontawesome-all.min.js"></script>
    <script defer type="text/javascript" src="/js/lightgallery.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-fullscreen.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-hash.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-pager.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-thumbnail.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-zoom.min.js"></script>
    
    <script defer src="/js/busuanzi.pure.mini.js"></script>
    
    
    <script defer type="text/javascript" src="/js/search.js"></script>
    <script type="text/javascript">
    $(document).ready(function () {
      var searchPath = "search.xml";
      if (searchPath.length === 0) {
        searchPath = "search.xml";
      }
      var path = "/" + searchPath;
      searchFunc(path, "search-input", "search-result");
    });
    </script>
    
    
    
    <script defer type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ["$","$"], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ["script", "noscript", "style", "textarea", "pre", "code"]
      }
    });
    </script>
    <script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for (i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += " has-jax";
      }
    });
    </script>
    
    
    <script defer type="text/javascript" src="/js/index.js"></script>
    
    <script defer type="text/javascript" src="/js/custom.js"></script>
    <title>LFsWang's World</title>
  </head>
  <body itemscope itemtype="http://schema.org/WebPage" lang="zh_TW"  data-spy="scroll" data-target=".list-group">
    

<span style="display:none">$$\newcommand{\Ord}{\mathcal{O}}$$</span>


<header id="header" class="header" style="background: #33363b;">
  <div class="container">
    <div class="header-container">
      <div class="header-title">
        <h1 class="title"><a href="/">LFsWang's World</a></h1>
        <h2 class="subtitle"></h2>
      </div>
      
      <div class="logo">
        <img src="/images/logo.png" alt="logo">
      </div>
      
    </div>
    <nav id="nav" class="nav">
      <a id="nav-toggle" class="nav-toggle" aria-hidden="true"><i class="fas fa-bars" aria-label="切換導覽列"></i></a>
      <ul id="menu" role="menubar" aria-hidden="false">
        
        <li role="menuitem"><a href="/" class="current">首頁</a></li>
        
        <li role="menuitem"><a href="/archives/">歸檔</a></li>
        
        <li role="menuitem"><a href="/categories/">分類</a></li>
        
        <li role="menuitem"><a href="/tags/">標籤</a></li>
        
        <li role="menuitem"><a href="/about/">關於</a></li>
        
      </ul>
    </nav>
  </div>
</header>


    <main id="main" class="main">
      <div class="container">
        <div class="main-container">
          <div class="content">
            

<div id="index" class="index page">
  
  <article class="article post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="https://lfswang.github.io/2018/10/16/jp-coding/">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="LFsWang">
        <meta itemprop="description" content="">
        <meta itemprop="image" content="/images/avatar.jpg">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="LFsWang's World">
      </span>
    </div>
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/2018/10/16/jp-coding/" itemprop="url">日文打字簡易教學</a>
      </h1>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i><span><time title="post-date" itemprop="dateCreated datePublished" datetime="2018-10-16T01:26:04+08:00">2018-10-16 01:26:04</time></span>
        </span>
        
        
        
      </div>
    </header>
    <main class="post-main" itemprop="articleBody">
      
      <h1 id="安裝日文輸入法"><a href="#安裝日文輸入法" class="headerlink" title="安裝日文輸入法"></a>安裝日文輸入法</h1><p>根據不同的作業系統，安裝的方法會有所差異。如果不想要更動太多的設定，可以考慮使用 Google 日文輸入法，有分成瀏覽器插件以及直接安裝在電腦中的版本</p>
<h2 id="Windows-10"><a href="#Windows-10" class="headerlink" title="Windows 10"></a>Windows 10</h2><ul>
<li>開始功能表、時間與語言、地區與語言，新增語言：日本語</li>
</ul>
<img src="/2018/10/16/jp-coding/win10.PNG">
<h2 id="Windows-7"><a href="#Windows-7" class="headerlink" title="Windows 7"></a>Windows 7</h2><ul>
<li>輸入法圖示按右鍵、設定</li>
</ul>
<img src="/2018/10/16/jp-coding/win7_1.PNG">
<ul>
<li>新增語言</li>
</ul>
<img src="/2018/10/16/jp-coding/win7_2.PNG">
<ul>
<li>選擇日語</li>
</ul>
<img src="/2018/10/16/jp-coding/win7_3.PNG">
<h2 id="MacOS"><a href="#MacOS" class="headerlink" title="MacOS"></a>MacOS</h2><ul>
<li>系統偏好設定、語言與地區、加入日語即可</li>
</ul>
<h2 id="Ubuntu"><a href="#Ubuntu" class="headerlink" title="Ubuntu"></a>Ubuntu</h2><p><code>sudo apt-get install mozc</code></p>
<h2 id="使用-Google-輸入工具-Chrome專用"><a href="#使用-Google-輸入工具-Chrome專用" class="headerlink" title="使用 Google 輸入工具 (Chrome專用)"></a>使用 Google 輸入工具 (Chrome專用)</h2><p><a href="https://chrome.google.com/webstore/detail/google-input-tools/mclkkofklkfljcocdinagocijmpgbhab" target="_blank" rel="noopener">點我安裝 Google 輸入工具</a></p>
<ul>
<li>右鍵選項，進入設定</li>
</ul>
<img src="/2018/10/16/jp-coding/chrome_1.PNG">
<ul>
<li>新增日本語</li>
</ul>
<img src="/2018/10/16/jp-coding/chrome_2.PNG">
<ul>
<li>左鍵選日本語，變成藍色就表示可以用了</li>
</ul>
<img src="/2018/10/16/jp-coding/chrome_3.PNG">
<h2 id="使用-Google-日文輸入法"><a href="#使用-Google-日文輸入法" class="headerlink" title="使用 Google 日文輸入法"></a>使用 Google 日文輸入法</h2><p><a href="https://www.google.co.jp/ime/" target="_blank" rel="noopener">點我安裝 Google 日文輸入法</a></p>
<p>安裝他，電腦就會多一個日文的輸入法</p>
<img src="/2018/10/16/jp-coding/google_1.PNG">
<h1 id="基本技巧"><a href="#基本技巧" class="headerlink" title="基本技巧"></a>基本技巧</h1><table>
<thead>
<tr>
<th>解釋</th>
<th>按鍵</th>
<th>輸出</th>
</tr>
</thead>
<tbody>
<tr>
<td>平假名</td>
<td>a</td>
<td>あ</td>
</tr>
<tr>
<td>平假名</td>
<td>wo</td>
<td>を</td>
</tr>
<tr>
<td>拗音</td>
<td>sha</td>
<td>しゃ</td>
</tr>
<tr>
<td>拗音</td>
<td>xyu</td>
<td>ゅ</td>
</tr>
<tr>
<td></td>
<td>daxi</td>
<td>だぃ</td>
</tr>
<tr>
<td>鼻音</td>
<td>nn</td>
<td>ん</td>
</tr>
<tr>
<td>促音</td>
<td>zasshi</td>
<td>ざっし</td>
</tr>
<tr>
<td>切換片假</td>
<td>Alt + CapsLock neko</td>
<td>ネコ</td>
</tr>
<tr>
<td>切換平假</td>
<td>Ctrl + CapsLock neko</td>
<td>ねき</td>
</tr>
</tbody>
</table>

      
    </main>
    <footer class="post-footer">
      
      <div class="post-tags">
        
        <a class="post-tag button" href="/tags/日文/" rel="tag"><i class="fas fa-tags"></i>日文</a>
        
      </div>
      
    </footer>
  </article>
  
  <article class="article post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="https://lfswang.github.io/2018/10/02/tfcis-2018-10-02-contest/">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="LFsWang">
        <meta itemprop="description" content="">
        <meta itemprop="image" content="/images/avatar.jpg">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="LFsWang's World">
      </span>
    </div>
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/2018/10/02/tfcis-2018-10-02-contest/" itemprop="url">2018 臺南一中上學期資訊學科能力競賽校內複選題解</a>
      </h1>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i><span><time title="post-date" itemprop="dateCreated datePublished" datetime="2018-10-02T17:21:02+08:00">2018-10-02 17:21:02</time></span>
        </span>
        
        
        
      </div>
    </header>
    <main class="post-main" itemprop="articleBody">
      
      <h1 id="A-威廉伯爵的農場"><a href="#A-威廉伯爵的農場" class="headerlink" title="A. 威廉伯爵的農場"></a>A. 威廉伯爵的農場</h1><h2 id="題目大意"><a href="#題目大意" class="headerlink" title="題目大意"></a>題目大意</h2><p>給平面座標的三個點，問圍成的三角形面積乘以一個常數 $c$，所有數字都是 int 範圍的整數，$c$ 是 2 的倍數，保證答案可以用 long long 表示</p>
<h2 id="題解"><a href="#題解" class="headerlink" title="題解"></a>題解</h2><p>Keys :</p>
<ul>
<li>向量運算</li>
<li>數值處理</li>
</ul>
<p>高中數學有提到，兩向量 $\vec{a}$、$\vec{b}$，圍成的平行四邊形面積是 $|\vec{a}\times \vec{b}|$ ，所以這一題的答案就是 $\frac{1}{2}\times c\times |\vec{a}\times \vec{b}|$，其中 $|\vec{a}\times \vec{b}|= |x_ay_b-y_ax_b|$，此外要注意除以 2 的次序避免溢位的問題。</p>
<h1 id="B-⼤樓彩繪"><a href="#B-⼤樓彩繪" class="headerlink" title="B. ⼤樓彩繪"></a>B. ⼤樓彩繪</h1><h2 id="題目大意-1"><a href="#題目大意-1" class="headerlink" title="題目大意"></a>題目大意</h2><p>有 $m$ 角柱，角柱的側邊每個面都有 $n\times n$的網格，每個網格有 $c$ 種顏色可以選擇，問有幾種著色方法</p>
<h2 id="題解-1"><a href="#題解-1" class="headerlink" title="題解"></a>題解</h2><p>Keys :</p>
<ul>
<li>排列組合</li>
<li>Burnside’s lemma</li>
<li>快速冪</li>
</ul>
<p>一個很顯然的事情是一個面有 $c^{n^2}$ 種不同的塗法，這個數字姑且稱為 $p$ ，那如何計算有多少的塗法呢？</p>
<p>如果知道 Burnside’s lemma 的話就有</p>
<p>$$\frac{1}{m}\sum_{i=1}^{m} p^{\operatorname{gcd}(m,i)}$$</p>
<h1 id="C-金坷垃運輸網"><a href="#C-金坷垃運輸網" class="headerlink" title="C. 金坷垃運輸網"></a>C. 金坷垃運輸網</h1><h2 id="題目大意-2"><a href="#題目大意-2" class="headerlink" title="題目大意"></a>題目大意</h2><p>給一張無向圖，問 $a$、$b$ 兩點之間是否存在兩個獨立的路徑，即如果任意地把圖中的一條邊移除， $a$、$b$依舊連通</p>
<h2 id="題解-2"><a href="#題解-2" class="headerlink" title="題解"></a>題解</h2><p>Keys :</p>
<ul>
<li>Tarjan’s algorithm for Bridge</li>
<li>橋連通分量 BCC</li>
</ul>
<h1 id="D-金金金坷垃"><a href="#D-金金金坷垃" class="headerlink" title="D. 金金金坷垃"></a>D. 金金金坷垃</h1><h2 id="題目大意-3"><a href="#題目大意-3" class="headerlink" title="題目大意"></a>題目大意</h2><p>排一個大小是$n$的「金」</p>
<h2 id="題解-3"><a href="#題解-3" class="headerlink" title="題解"></a>題解</h2><p>Keys :</p>
<ul>
<li>IO</li>
</ul>
<p>會寫星星樹就會這題了吧？</p>
<h1 id="E-農業基地的密碼"><a href="#E-農業基地的密碼" class="headerlink" title="E. 農業基地的密碼"></a>E. 農業基地的密碼</h1><h2 id="題目大意-4"><a href="#題目大意-4" class="headerlink" title="題目大意"></a>題目大意</h2><p>請輸出一個字串的 Burrows-Wheeler 變換。</p>
<h2 id="題解-4"><a href="#題解-4" class="headerlink" title="題解"></a>題解</h2><p>Keys :</p>
<ul>
<li>後綴數組 Suffix Array</li>
</ul>
<p>$BWT[i]=\begin{cases}T[SA[i]-1], &amp; \text{if }SA[i]&gt;1\\\$&amp;\text{otherwise}\end{cases}$</p>
<h1 id="F-我們的金坷垃"><a href="#F-我們的金坷垃" class="headerlink" title="F. 我們的金坷垃"></a>F. 我們的金坷垃</h1><h2 id="題目大意-5"><a href="#題目大意-5" class="headerlink" title="題目大意"></a>題目大意</h2><p>請輸出一個字串最短補成回文的字串中，第$k$大的解</p>
<h2 id="題解-5"><a href="#題解-5" class="headerlink" title="題解"></a>題解</h2><p>Keys :</p>
<ul>
<li>DP</li>
<li>解答回朔</li>
</ul>

      
    </main>
    <footer class="post-footer">
      
      <div class="post-tags">
        
        <a class="post-tag button" href="/tags/比賽題解/" rel="tag"><i class="fas fa-tags"></i>比賽題解</a>
        
      </div>
      
    </footer>
  </article>
  
  <article class="article post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="https://lfswang.github.io/2018/09/07/TIOJ-1497/">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="LFsWang">
        <meta itemprop="description" content="">
        <meta itemprop="image" content="/images/avatar.jpg">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="LFsWang's World">
      </span>
    </div>
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/2018/09/07/TIOJ-1497/" itemprop="url">1497. 喝醉的宿主 The drunk host</a>
      </h1>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i><span><time title="post-date" itemprop="dateCreated datePublished" datetime="2018-09-07T02:02:26+08:00">2018-09-07 02:02:26</time></span>
        </span>
        
        
        
        <span class="post-meta-divider divider">|</span>
        
        <span class="post-categories">
          
          <i class="far fa-folder-open"></i><span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/解題/" itemprop="url" rel="index"><span itemprop="name">解題</span></a></span><i class="fas fa-angle-right"></i><span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/解題/TIOJ/" itemprop="url" rel="index"><span itemprop="name">TIOJ</span></a></span>
        </span>
        
        
      </div>
    </header>
    <main class="post-main" itemprop="articleBody">
      
      <p>連結：<a href="https://tioj.ck.tp.edu.tw/problems/1497" target="_blank" rel="noopener">https://tioj.ck.tp.edu.tw/problems/1497</a></p>
<h1 id="題目大意"><a href="#題目大意" class="headerlink" title="題目大意"></a>題目大意</h1><p>給一個字串，求一個字串的Suffix Array。</p>
<h1 id="題解"><a href="#題解" class="headerlink" title="題解"></a>題解</h1><h1 id="AC-Code"><a href="#AC-Code" class="headerlink" title="AC Code"></a>AC Code</h1><h2 id="使用-std-Sort"><a href="#使用-std-Sort" class="headerlink" title="使用 std::Sort"></a>使用 std::Sort</h2><p>複雜度為$\Ord(|S|\log^2|S|)$</p>
<figure class="hljs highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; sa(<span class="hljs-built_in">string</span> str)<br>&#123;<br>    <span class="hljs-keyword">int</span> len = str.size();<br>    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; rank(len), sa(len), tmp(len);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;len;++i)<br>    &#123;<br>        rank[i] = str[i];<br>        sa[i] = i;<br>    &#125;<br>    sort(sa.begin(), sa.end(), [&amp;](<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> e)&#123;<br>            <span class="hljs-keyword">return</span> rank[s]&lt;rank[e];<br>    &#125;);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=len;i*=<span class="hljs-number">2</span>)<br>    &#123;<br>        <span class="hljs-keyword">auto</span> val = [&amp;] (<span class="hljs-keyword">int</span> s) &#123; <span class="hljs-keyword">return</span> make_pair( rank[s], s+i&lt;len?rank[s+i]:<span class="hljs-number">-1</span> ); &#125;;<br>        sort(sa.begin(), sa.end(), [&amp;](<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> e)&#123;<br>            <span class="hljs-keyword">return</span> val(s) &lt; val(e);<br>        &#125;);<br>        tmp[sa[<span class="hljs-number">0</span>]]=<span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">1</span>;j&lt;len;++j) <br>            <span class="hljs-keyword">if</span>( val(sa[j]) == val(sa[j<span class="hljs-number">-1</span>]) ) tmp[sa[j]] = tmp[sa[j<span class="hljs-number">-1</span>]];<br>            <span class="hljs-keyword">else</span> tmp[sa[j]] = tmp[sa[j<span class="hljs-number">-1</span>]] + <span class="hljs-number">1</span>;<br>        rank.swap(tmp);<br>    &#125;<br>    <span class="hljs-keyword">return</span> sa;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span><br></span>&#123;<br>    ios::sync_with_stdio(<span class="hljs-literal">false</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">string</span> str;<br><br>    getline(<span class="hljs-built_in">cin</span>, str);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i:sa(str)) <span class="hljs-built_in">cout</span>&lt;&lt;i&lt;&lt;<span class="hljs-string">'\n'</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="使用-Radix-Sort"><a href="#使用-Radix-Sort" class="headerlink" title="使用 Radix Sort"></a>使用 Radix Sort</h2><p>複雜度為$\Ord(|S|\log |S|)$</p>
<figure class="hljs highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//TODO</span><br></code></pre></td></tr></table></figure>
      
    </main>
    <footer class="post-footer">
      
      <div class="post-tags">
        
        <a class="post-tag button" href="/tags/String/" rel="tag"><i class="fas fa-tags"></i>String</a>
        
        <a class="post-tag button" href="/tags/Suffix-Array/" rel="tag"><i class="fas fa-tags"></i>Suffix Array</a>
        
      </div>
      
    </footer>
  </article>
  
  <article class="article post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="https://lfswang.github.io/2018/09/05/algorithm-second-best-mst/">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="LFsWang">
        <meta itemprop="description" content="">
        <meta itemprop="image" content="/images/avatar.jpg">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="LFsWang's World">
      </span>
    </div>
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/2018/09/05/algorithm-second-best-mst/" itemprop="url">次小生成樹演算法與證明</a>
      </h1>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i><span><time title="post-date" itemprop="dateCreated datePublished" datetime="2018-09-05T16:22:07+08:00">2018-09-05 16:22:07</time></span>
        </span>
        
        
        
        <span class="post-meta-divider divider">|</span>
        
        <span class="post-categories">
          
          <i class="far fa-folder-open"></i><span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Algorithm/" itemprop="url" rel="index"><span itemprop="name">Algorithm</span></a></span><i class="fas fa-angle-right"></i><span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Algorithm/Graph/" itemprop="url" rel="index"><span itemprop="name">Graph</span></a></span>
        </span>
        
        
      </div>
    </header>
    <main class="post-main" itemprop="articleBody">
      
      <h1 id="題目"><a href="#題目" class="headerlink" title="題目"></a>題目</h1><p>考慮一張無向的加權圖 $G=\{V,E,w(s,t)\}$，求 $G$ 的生成樹中，權重非嚴格第二大的生成樹。</p>
<h1 id="演算法"><a href="#演算法" class="headerlink" title="演算法"></a>演算法</h1><ol>
<li>先找出 $G$ 的最小生成樹 $G_{M}=\{V_M,E_M,w_M(s,t)\}$</li>
<li>設 $S=\emptyset$</li>
<li>對於所有的邊 $e = \{s,t\} \in E-E_M$<ol>
<li>找到 $G_M$ 中，點 $s$ 到點 $t$ 的路徑上，邊長最長的邊 $e’$</li>
<li>將 $G_M-e’-e$ 加入至集合 $S$ 中</li>
</ol>
</li>
<li>$S$ 中權重和最小的樹即為所求</li>
</ol>
<h1 id="證明"><a href="#證明" class="headerlink" title="證明"></a>證明</h1><p>先考慮一個樸素作法，因為次小生成樹與最小生成樹至少有一條邊不一樣，因此，可以枚舉最小生成樹的邊，將其刪除之後，再求最小生成樹，那次小生成樹必然會是這$V-1$顆樹中的其中一種。</p>
<p>接下來，可以證明刪掉一條邊的圖，存在一個最小生成樹，與原來的最小生成樹只有一條相異的邊。考慮 Kruskal 演算法，如果把第 $i$ 個加入最小生成樹的邊 $e_i = (s_i, t_i)$ 刪除的話，並不影響加入第 $i$ 條邊之前的決策。接下來，將原來最小生成樹第 $i+1$ 條邊到 $V-1$ 條邊加入這一個新的樹中，那會得到兩個獨立的兩個連通塊 (原來MST砍掉 $s$ 到 $t$ 的邊 )，此時再找到一條最小的邊 $e’$ 將這兩個連通塊接在一起，就形成了一個最小生成樹，且這顆樹只有一條邊與原來的樹不一樣。</p>
<p>為什麼會是最小生成樹呢？因為 $e’$ 必然是 Kruskal 在 $e_i$ 以後才被考慮的邊，且 $e’$ 不會影響加入這一條邊之後的決策。考慮這兩條邊之間的其他邊 $e_m$ 的決策過程：</p>
<ol>
<li>如果 $e_m$ 的兩端點不連接 $s_i$, $t_i$ 的連通塊的話，那這條邊的決策就不被影響 </li>
<li>如果 $e_m$ 的兩端點連接 $s_i$, $t_i$ 的連通塊的話，那這條邊就是比 $e’$ 更小連接方法，那與 $e’$ 的定義矛盾，因此不存在這種情形。</li>
</ol>
<p>因此這個方法會是 Kruskal 的決策過程，故作出來的樹是最小生成樹。因此就可以推出存在一的次小生成樹，是與其最小生成樹相差一條邊的樹。</p>
<h1 id="時間複雜度"><a href="#時間複雜度" class="headerlink" title="時間複雜度"></a>時間複雜度</h1><ul>
<li>步驟 1 若使用 Kruskal’s algorithm，複雜度為 $\Ord(E\log E)$</li>
<li>步驟 3.1 若使用 最近公共祖先 (Lowest Common Ancestor, LCA) 的倍增法，單次可以在 $\Ord(\log V)$ 的時間求出 $e’$</li>
<li>集合 $S$ 實作上，只需要紀錄加入及刪除哪一條邊即可，都可以在 $\Ord(1)$ 時間完成</li>
</ul>
<p>故可以在 $\Ord(E\log E)$ 的時間求出次小生成樹</p>

      
    </main>
    <footer class="post-footer">
      
      <div class="post-tags">
        
        <a class="post-tag button" href="/tags/Graph/" rel="tag"><i class="fas fa-tags"></i>Graph</a>
        
        <a class="post-tag button" href="/tags/MST/" rel="tag"><i class="fas fa-tags"></i>MST</a>
        
      </div>
      
    </footer>
  </article>
  
  <article class="article post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="https://lfswang.github.io/2018/09/05/TIOJ-1445/">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="LFsWang">
        <meta itemprop="description" content="">
        <meta itemprop="image" content="/images/avatar.jpg">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="LFsWang's World">
      </span>
    </div>
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/2018/09/05/TIOJ-1445/" itemprop="url">1445. 機器人組裝大賽</a>
      </h1>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i><span><time title="post-date" itemprop="dateCreated datePublished" datetime="2018-09-05T15:31:59+08:00">2018-09-05 15:31:59</time></span>
        </span>
        
        
        
        <span class="post-meta-divider divider">|</span>
        
        <span class="post-categories">
          
          <i class="far fa-folder-open"></i><span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/解題/" itemprop="url" rel="index"><span itemprop="name">解題</span></a></span><i class="fas fa-angle-right"></i><span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/解題/TIOJ/" itemprop="url" rel="index"><span itemprop="name">TIOJ</span></a></span>
        </span>
        
        
      </div>
    </header>
    <main class="post-main" itemprop="articleBody">
      
      <p>連結：<a href="https://tioj.ck.tp.edu.tw/problems/1445" target="_blank" rel="noopener">https://tioj.ck.tp.edu.tw/problems/1445</a></p>
<h1 id="題目大意"><a href="#題目大意" class="headerlink" title="題目大意"></a>題目大意</h1><p>求連接所有元件的方法中，第一小與第二小的代價是多少，如果不存在輸出$-1$。</p>
<h1 id="題解"><a href="#題解" class="headerlink" title="題解"></a>題解</h1><p>求最小生成樹與次小生成樹。最小生成樹很簡單，Kruskal 一下就好了，所以關鍵在如何求次小生成樹。</p>
<p>可以證明存在一個次小生成樹 $T’$ 是最小生成樹 $T$ 加上一條邊 $e’$ 之後，再將形成的環刪除除了 $e’$ 之外的最長邊。</p>
<p>詳細演算法參考這邊：<a href="/2018/09/05/algorithm-second-best-mst/" title="次小生成樹演算法與證明">次小生成樹演算法與證明</a> </p>
<p>要如何求一顆樹任兩點間的邊長的最大值呢？可以考慮 <a href="/2018/09/05/TIOJ-1445/" title="LCA的倍增法">LCA的倍增法</a>，在 dp 的同時，也記錄下目前區間的邊長最大值就好了。</p>
<p>該實作時間複雜度為 $\Ord(E\log E+E\log V)$</p>
<h1 id="AC-Code"><a href="#AC-Code" class="headerlink" title="AC Code"></a>AC Code</h1><figure class="hljs highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">using</span> ll=<span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span>;<br><br><span class="hljs-keyword">int</span> N,M;<br><span class="hljs-built_in">vector</span>&lt;tuple&lt;<span class="hljs-keyword">int</span>,ll&gt;&gt; V[<span class="hljs-number">1001</span>];<br><span class="hljs-built_in">vector</span>&lt;tuple&lt;ll,<span class="hljs-keyword">int</span>,<span class="hljs-keyword">int</span>,<span class="hljs-keyword">bool</span>&gt;&gt; E;<br><br><span class="hljs-keyword">int</span> dis[<span class="hljs-number">1001</span>], groups;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span><br></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;++i)<br>        dis[i]=i;<br>    groups=n;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a)</span><br></span>&#123;<br>    <span class="hljs-keyword">if</span>( dis[a]==a ) <span class="hljs-keyword">return</span> a;<br>    <span class="hljs-keyword">return</span> dis[a]=find(dis[a]);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">U</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a,<span class="hljs-keyword">int</span> b)</span><br></span>&#123;<br>    dis[find(a)]=find(b);<br>    groups--;<br>&#125;<br><br><span class="hljs-function">ll <span class="hljs-title">mst</span><span class="hljs-params">()</span><br></span>&#123;<br>    sort(E.begin(), E.end());<br>    init(N);<br>    ll ans=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> &amp;[w,s,t,b]:E)<br>    &#123;<br>        <span class="hljs-keyword">if</span>( find(s)!=find(t) )<br>        &#123;<br>            ans+=w;<br>            U(s,t);<br>            b=<span class="hljs-literal">true</span>;<br>            V[s].emplace_back(t,w);<br>            V[t].emplace_back(s,w);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span>( groups==<span class="hljs-number">1</span> ) <span class="hljs-keyword">return</span> ans;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>&#125;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> lgN = <span class="hljs-number">11</span>;<br><span class="hljs-keyword">int</span> dp[<span class="hljs-number">1001</span>][lgN];<br>ll mx[<span class="hljs-number">1001</span>][lgN];<br>ll dep[<span class="hljs-number">1001</span>];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> fa, <span class="hljs-keyword">int</span> ew)</span><br></span>&#123;<br>    dp[v][<span class="hljs-number">0</span>]=fa;<br>    mx[v][<span class="hljs-number">0</span>]=ew;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> [e,w]:V[v])<br>    &#123;<br>        <span class="hljs-keyword">if</span>( e==fa ) <span class="hljs-keyword">continue</span>;<br>        dep[e]=dep[v]+<span class="hljs-number">1</span>;<br>        dfs(e, v, w);<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">()</span><br></span>&#123;<br>    dep[<span class="hljs-number">1</span>]=<span class="hljs-number">0</span>;<br>    dfs(<span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">0</span>);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;lgN<span class="hljs-number">-1</span>;++i)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">1</span>;j&lt;=N;++j)<br>        &#123;<br>            mx[j][i+<span class="hljs-number">1</span>] = mx[j][i];<br>            <span class="hljs-keyword">if</span>( dp[j][i+<span class="hljs-number">1</span>]==<span class="hljs-number">-1</span> ) dp[j][i] = <span class="hljs-number">-1</span>;<br>            <span class="hljs-keyword">else</span> &#123;<br>                mx[j][i+<span class="hljs-number">1</span>] = max( mx[j][i+<span class="hljs-number">1</span>], mx[dp[j][i]][i] );<br>                dp[j][i+<span class="hljs-number">1</span>] = dp[dp[j][i]][i];<br>            &#125;<br>        &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">jump</span><span class="hljs-params">(<span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> d, ll &amp;ans)</span><br></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;lgN;++i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>( (d&gt;&gt;i)&amp;<span class="hljs-number">1</span> )<br>        &#123;<br>            ans=max(ans, mx[v][i]);<br>            v=dp[v][i];<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> v;<br>&#125;<br><br><span class="hljs-function">ll <span class="hljs-title">path</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> e)</span><br></span>&#123;<br>    ll ans = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">if</span>( dep[s]&lt;dep[e] ) swap(s,e);<br>    s = jump( s, dep[s]-dep[e], ans);<br>    <span class="hljs-keyword">if</span>( s!=e )<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=lgN<span class="hljs-number">-1</span>;i&gt;=<span class="hljs-number">0</span>;--i)<br>        &#123;<br>            <span class="hljs-keyword">if</span>( dp[s][i]!=dp[e][i] )<br>            &#123;<br>                ans = max( ans, mx[s][i] );<br>                ans = max( ans, mx[e][i] );<br>                s = dp[s][i];<br>                e = dp[e][i];<br>            &#125;<br>        &#125;<br>        ans = max(&#123;ans, mx[s][<span class="hljs-number">0</span>], mx[e][<span class="hljs-number">0</span>]&#125;);<br>    &#125;<br>    <span class="hljs-keyword">return</span> ans;<br>&#125;<br><br><span class="hljs-function">ll <span class="hljs-title">smst</span><span class="hljs-params">(ll mstw)</span><br></span>&#123;<br>    <span class="hljs-keyword">if</span>( (<span class="hljs-keyword">int</span>)E.size() == N<span class="hljs-number">-1</span> ) <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>    build();<br>    ll ans = LLONG_MAX;<br>    ll tmp;<br>    <br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> &amp;[w,s,t,b]:E)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(b) <span class="hljs-keyword">continue</span>;<br>        tmp = path(s,t);<br>        ans = min( ans, mstw-tmp+w );<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> ans;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span><br></span>&#123;<br>    ios::sync_with_stdio(<span class="hljs-literal">false</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<br>    <br>    <span class="hljs-built_in">cin</span>&gt;&gt;N&gt;&gt;M;<br>    <span class="hljs-keyword">int</span> s,t;<br>    ll w, ans1, ans2;<br>    <span class="hljs-keyword">while</span>(M--)<br>    &#123;<br>        <span class="hljs-built_in">cin</span>&gt;&gt;s&gt;&gt;t&gt;&gt;w;<br>        E.emplace_back(w,s,t,<span class="hljs-literal">false</span>);<br>    &#125;<br><br>    ans1 = mst();<br>    <span class="hljs-keyword">if</span>( ans1 == <span class="hljs-number">-1</span> ) ans2 = <span class="hljs-number">-1</span>;<br>    <span class="hljs-keyword">else</span> ans2 = smst(ans1);<br><br>    <span class="hljs-built_in">cout</span>&lt;&lt;ans1&lt;&lt;<span class="hljs-string">' '</span>&lt;&lt;ans2&lt;&lt;<span class="hljs-string">'\n'</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
      
    </main>
    <footer class="post-footer">
      
      <div class="post-tags">
        
        <a class="post-tag button" href="/tags/Graph/" rel="tag"><i class="fas fa-tags"></i>Graph</a>
        
        <a class="post-tag button" href="/tags/MST/" rel="tag"><i class="fas fa-tags"></i>MST</a>
        
      </div>
      
    </footer>
  </article>
  
  <article class="article post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="https://lfswang.github.io/2018/09/04/TIOJ-1037/">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="LFsWang">
        <meta itemprop="description" content="">
        <meta itemprop="image" content="/images/avatar.jpg">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="LFsWang's World">
      </span>
    </div>
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/2018/09/04/TIOJ-1037/" itemprop="url">1037. 水晶球 (Crystal Ball)</a>
      </h1>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i><span><time title="post-date" itemprop="dateCreated datePublished" datetime="2018-09-04T00:01:16+08:00">2018-09-04 00:01:16</time></span>
        </span>
        
        
        
        <span class="post-meta-divider divider">|</span>
        
        <span class="post-categories">
          
          <i class="far fa-folder-open"></i><span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/解題/" itemprop="url" rel="index"><span itemprop="name">解題</span></a></span><i class="fas fa-angle-right"></i><span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/解題/TIOJ/" itemprop="url" rel="index"><span itemprop="name">TIOJ</span></a></span>
        </span>
        
        
      </div>
    </header>
    <main class="post-main" itemprop="articleBody">
      
      <p>連結：<a href="https://tioj.ck.tp.edu.tw/problems/1037" target="_blank" rel="noopener">https://tioj.ck.tp.edu.tw/problems/1037</a></p>
<h1 id="題目大意"><a href="#題目大意" class="headerlink" title="題目大意"></a>題目大意</h1><p>再二維$N\times M$的格子中，有一個起點與終點，今天要從起點走$K$步，每步的距離為$d_i$，方向上下左右任選，如果走超出格子就循環的走，問是否存在一種方法可以走到終點。</p>
<h1 id="題解"><a href="#題解" class="headerlink" title="題解"></a>題解</h1><p>一個很暴力的$\Ord(KNM)$動態規劃，因為複雜度看起來很危險，但時間挺寬鬆的，所以對細節做了一些優化，<del>然後就過了，而且還頗快的</del></p>
<h1 id="AC-Code"><a href="#AC-Code" class="headerlink" title="AC Code"></a>AC Code</h1><figure class="hljs highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-keyword">bool</span> dp[<span class="hljs-number">2</span>][<span class="hljs-number">100</span>][<span class="hljs-number">100</span>];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span><br></span>&#123;<br>    ios::sync_with_stdio(<span class="hljs-literal">false</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-keyword">int</span> N,M,T,d1,d2;<br>    <span class="hljs-keyword">int</span> sx,sy,ex,ey;<br>    <span class="hljs-built_in">cin</span>&gt;&gt;N&gt;&gt;M&gt;&gt;sx&gt;&gt;sy&gt;&gt;ex&gt;&gt;ey;<br>    <span class="hljs-built_in">cin</span>&gt;&gt;T;<br><br>    dp[<span class="hljs-number">0</span>][sx][sy]=<span class="hljs-number">1</span>;<br><br>    <span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> add(x,y,n) ( x+y&lt;n?x+y:x+y-n )</span><br>    <span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> del(x,y,n) ( x-y&gt;=0?x-y:x-y+n )</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> k=<span class="hljs-number">1</span>;k&lt;=T;++k)<br>    &#123;<br>        <span class="hljs-built_in">cin</span>&gt;&gt;d1;<br>        d2=d1%M;<br>        d1%=N;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;N;++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>;j&lt;M;++j)<br>                dp[k&amp;<span class="hljs-number">1</span>][i][j] = dp[(k<span class="hljs-number">-1</span>)&amp;<span class="hljs-number">1</span>][add(i,d1,N)][j] |<br>                                dp[(k<span class="hljs-number">-1</span>)&amp;<span class="hljs-number">1</span>][del(i,d1,N)][j] | <br>                                dp[(k<span class="hljs-number">-1</span>)&amp;<span class="hljs-number">1</span>][i][add(j,d2,M)] | <br>                                dp[(k<span class="hljs-number">-1</span>)&amp;<span class="hljs-number">1</span>][i][del(j,d2,M)] ;<br>    &#125;<br><br>    <span class="hljs-keyword">if</span>(dp[T&amp;<span class="hljs-number">1</span>][ex][ey])<span class="hljs-built_in">cout</span>&lt;&lt;<span class="hljs-string">"YES\n"</span>;<br>    <span class="hljs-keyword">else</span> <span class="hljs-built_in">cout</span>&lt;&lt;<span class="hljs-string">"NO\n"</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
      
    </main>
    <footer class="post-footer">
      
      <div class="post-tags">
        
        <a class="post-tag button" href="/tags/DP/" rel="tag"><i class="fas fa-tags"></i>DP</a>
        
      </div>
      
    </footer>
  </article>
  
  <article class="article post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="https://lfswang.github.io/2018/09/02/TIOJ-2037/">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="LFsWang">
        <meta itemprop="description" content="">
        <meta itemprop="image" content="/images/avatar.jpg">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="LFsWang's World">
      </span>
    </div>
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/2018/09/02/TIOJ-2037/" itemprop="url">2037. 警力配置</a>
      </h1>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i><span><time title="post-date" itemprop="dateCreated datePublished" datetime="2018-09-02T02:28:42+08:00">2018-09-02 02:28:42</time></span>
        </span>
        
        
        
        <span class="post-meta-divider divider">|</span>
        
        <span class="post-categories">
          
          <i class="far fa-folder-open"></i><span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/解題/" itemprop="url" rel="index"><span itemprop="name">解題</span></a></span><i class="fas fa-angle-right"></i><span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/解題/TIOJ/" itemprop="url" rel="index"><span itemprop="name">TIOJ</span></a></span>
        </span>
        
        
      </div>
    </header>
    <main class="post-main" itemprop="articleBody">
      
      <p>連結：<a href="https://tioj.ck.tp.edu.tw/problems/2037" target="_blank" rel="noopener">https://tioj.ck.tp.edu.tw/problems/2037</a></p>
<h1 id="題目大意"><a href="#題目大意" class="headerlink" title="題目大意"></a>題目大意</h1><p>題目寫得很亂，總結一下：給一張二分圖，問最小點覆蓋是多少，即要最少要選幾個點，才能使每一條邊至少有一端點被選中。</p>
<h1 id="題解"><a href="#題解" class="headerlink" title="題解"></a>題解</h1><p>二分圖上有<br>$$\text{最大匹配}=\text{最小點覆蓋}$$</p>
<p>證明待補，完整的證明我有用到cut。可以直接用匈牙利演算法 (Kőnig’s theorem) 簡單的求出最大匹配。</p>
<h1 id="AC-Code"><a href="#AC-Code" class="headerlink" title="AC Code"></a>AC Code</h1><figure class="hljs highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; V[<span class="hljs-number">100001</span>];<br><span class="hljs-keyword">int</span> m[<span class="hljs-number">100001</span>];<br><br><span class="hljs-keyword">int</span> P,Q,K,T,s,t;<br><br><span class="hljs-keyword">bool</span> used[<span class="hljs-number">100001</span>];<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> v)</span><br></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> e:V[v])<br>    &#123;<br>        <span class="hljs-keyword">if</span>(used[e])<span class="hljs-keyword">continue</span>;<br>        used[e]=<span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">if</span>( m[e]==<span class="hljs-number">-1</span> || dfs(m[e]) )<br>        &#123;<br>            m[e]=v;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span><br></span>&#123;<br>    ios::sync_with_stdio(<span class="hljs-literal">false</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-built_in">cin</span>&gt;&gt;T;<br>    <span class="hljs-keyword">while</span>(T--)<br>    &#123;<br>        <span class="hljs-built_in">cin</span>&gt;&gt;P&gt;&gt;Q&gt;&gt;K;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=P;++i)V[i].clear();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=Q;++i)m[i]=<span class="hljs-number">-1</span>;<br>        <span class="hljs-keyword">while</span>(K--)<br>        &#123;<br>            <span class="hljs-built_in">cin</span>&gt;&gt;s&gt;&gt;t;<br>            V[s].emplace_back(t);<br>        &#125;<br>        <br>        <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=P;++i)<br>        &#123;<br>            <span class="hljs-built_in">memset</span>(used,<span class="hljs-number">0</span>,Q+<span class="hljs-number">1</span>);<br>            <span class="hljs-keyword">if</span>(dfs(i))ans++;<br>        &#125;<br>        <span class="hljs-built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="hljs-string">'\n'</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

      
    </main>
    <footer class="post-footer">
      
      <div class="post-tags">
        
        <a class="post-tag button" href="/tags/二分圖/" rel="tag"><i class="fas fa-tags"></i>二分圖</a>
        
        <a class="post-tag button" href="/tags/最小點覆蓋/" rel="tag"><i class="fas fa-tags"></i>最小點覆蓋</a>
        
      </div>
      
    </footer>
  </article>
  
  <article class="article post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="https://lfswang.github.io/2018/09/02/TIOJ-1443/">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="LFsWang">
        <meta itemprop="description" content="">
        <meta itemprop="image" content="/images/avatar.jpg">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="LFsWang's World">
      </span>
    </div>
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/2018/09/02/TIOJ-1443/" itemprop="url">1443. 遞迴問題</a>
      </h1>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i><span><time title="post-date" itemprop="dateCreated datePublished" datetime="2018-09-02T02:09:57+08:00">2018-09-02 02:09:57</time></span>
        </span>
        
        
        
        <span class="post-meta-divider divider">|</span>
        
        <span class="post-categories">
          
          <i class="far fa-folder-open"></i><span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/解題/" itemprop="url" rel="index"><span itemprop="name">解題</span></a></span><i class="fas fa-angle-right"></i><span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/解題/TIOJ/" itemprop="url" rel="index"><span itemprop="name">TIOJ</span></a></span>
        </span>
        
        
      </div>
    </header>
    <main class="post-main" itemprop="articleBody">
      
      <p>連結：<a href="https://tioj.ck.tp.edu.tw/problems/1443" target="_blank" rel="noopener">https://tioj.ck.tp.edu.tw/problems/1443</a></p>
<h1 id="題目大意"><a href="#題目大意" class="headerlink" title="題目大意"></a>題目大意</h1><p>$$F(n)=\begin{cases}0&amp;\text{if }n=0\\F([\frac{n}{2}])+n-2[\frac{n}{2}]&amp;\text{otherwise}\end{cases}$$</p>
<p>給定$n$，問$F(0),F(1)\dots, F(n)$中的最大值為何。</p>
<h1 id="題解"><a href="#題解" class="headerlink" title="題解"></a>題解</h1><p>如果仔細觀察一下，$F(n)$的結果是$n$寫成二進位時有多少$1$，因此這題要問的答案就很明顯了，就是到數字$n$二進位最多有幾個$1$。答案等於$\lfloor\log_2{(N+1)}\rfloor$。</p>
<p>這裡做法有點懶惰，直接用python大數算，速度跟自己開大數模板差不多。</p>
<h1 id="AC-Code"><a href="#AC-Code" class="headerlink" title="AC Code"></a>AC Code</h1><figure class="hljs highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> math<br>print(math.floor(math.log(int(input())+<span class="hljs-number">1</span>,<span class="hljs-number">2</span>)))<br></code></pre></td></tr></table></figure>
      
    </main>
    <footer class="post-footer">
      
      <div class="post-tags">
        
        <a class="post-tag button" href="/tags/Math/" rel="tag"><i class="fas fa-tags"></i>Math</a>
        
      </div>
      
    </footer>
  </article>
  
  <article class="article post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="https://lfswang.github.io/2018/09/02/TIOJ-1704/">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="LFsWang">
        <meta itemprop="description" content="">
        <meta itemprop="image" content="/images/avatar.jpg">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="LFsWang's World">
      </span>
    </div>
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/2018/09/02/TIOJ-1704/" itemprop="url">1704. 烏龜吃橘子</a>
      </h1>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i><span><time title="post-date" itemprop="dateCreated datePublished" datetime="2018-09-02T01:53:56+08:00">2018-09-02 01:53:56</time></span>
        </span>
        
        
        
        <span class="post-meta-divider divider">|</span>
        
        <span class="post-categories">
          
          <i class="far fa-folder-open"></i><span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/解題/" itemprop="url" rel="index"><span itemprop="name">解題</span></a></span><i class="fas fa-angle-right"></i><span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/解題/TIOJ/" itemprop="url" rel="index"><span itemprop="name">TIOJ</span></a></span>
        </span>
        
        
      </div>
    </header>
    <main class="post-main" itemprop="articleBody">
      
      <p>連結：<a href="https://tioj.ck.tp.edu.tw/problems/1704" target="_blank" rel="noopener">https://tioj.ck.tp.edu.tw/problems/1704</a></p>
<h1 id="題目大意"><a href="#題目大意" class="headerlink" title="題目大意"></a>題目大意</h1><p>今天有$N$個橘子，每個橘子都有相異的重量。今天要挑出一些橘子，由重量小到大吃掉這些橘子。已知第 $i$ 在第 $j$ 順位吃掉的話，那就有$A_{i,j}$的飽足感。問至少要吃幾顆橘子才能有至少$k$的飽足感</p>
<h1 id="題解"><a href="#題解" class="headerlink" title="題解"></a>題解</h1><p>可以考慮動態規劃。先將橘子由小到大排序，用$p_i$表示排完序後的橘子，原來的編號是什麼，設$dp[i][j]$表示全部吃了$j$個橘子，且最後一顆是$p_i$的最大飽足度，那可以很輕鬆地發現</p>
<p>$$dp[i][j] = A_{p_i,j} + \max_{j=1,2,\dots i-1}\{dp[i-1][j]\}$$</p>
<p>因為max的部分可以在$O(1)$時間解決掉，故該方法可以在$O(N^2)$的時間找出滿足條件答案。</p>
<h1 id="AC-Code"><a href="#AC-Code" class="headerlink" title="AC Code"></a>AC Code</h1><figure class="hljs highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-built_in">vector</span>&lt;pair&lt;<span class="hljs-keyword">int</span>,<span class="hljs-keyword">int</span>&gt;&gt; d;<br><br><span class="hljs-keyword">int</span> m[<span class="hljs-number">2001</span>][<span class="hljs-number">2001</span>];<br><span class="hljs-keyword">int</span> dp[<span class="hljs-number">2001</span>];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">calc</span><span class="hljs-params">(<span class="hljs-keyword">int</span> N, <span class="hljs-keyword">int</span> K)</span><br></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">1</span>;j&lt;=N;++j)<br>    &#123;<br>        <span class="hljs-keyword">int</span> mx = dp[j<span class="hljs-number">-1</span>];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=j;i&lt;=N;++i)<br>        &#123;<br>            <span class="hljs-keyword">int</span> tmp = dp[i];<br>            dp[i] = mx + m[ d[i<span class="hljs-number">-1</span>].second ][j];<br>            mx = max(mx, tmp);<br>            <span class="hljs-keyword">if</span>( dp[i] &gt;=K ) <span class="hljs-keyword">return</span> j;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span><br></span>&#123;<br>    ios::sync_with_stdio(<span class="hljs-literal">false</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<br>    <br>    <span class="hljs-keyword">int</span> N,K,W;<br>    <span class="hljs-built_in">cin</span>&gt;&gt;N&gt;&gt;K;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=N;++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span>&gt;&gt;W;<br>        d.emplace_back(W,i);<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=N;++i)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">1</span>;j&lt;=N;++j)<br>            <span class="hljs-built_in">cin</span>&gt;&gt;m[i][j];<br>    sort(d.begin(), d.end());<br>    <span class="hljs-built_in">cout</span>&lt;&lt;calc(N, K)&lt;&lt;<span class="hljs-string">'\n'</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
      
    </main>
    <footer class="post-footer">
      
      <div class="post-tags">
        
        <a class="post-tag button" href="/tags/DP/" rel="tag"><i class="fas fa-tags"></i>DP</a>
        
      </div>
      
    </footer>
  </article>
  
  <article class="article post card" itemscope itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="https://lfswang.github.io/2018/08/31/TIOJ-1418/">
      <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
        <meta itemprop="name" content="LFsWang">
        <meta itemprop="description" content="">
        <meta itemprop="image" content="/images/avatar.jpg">
      </span>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" content="LFsWang's World">
      </span>
    </div>
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">
        <a class="post-title-link post-title-link-external" href="/2018/08/31/TIOJ-1418/" itemprop="url">1418. 交大都是雷</a>
      </h1>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i><span><time title="post-date" itemprop="dateCreated datePublished" datetime="2018-08-31T18:00:53+08:00">2018-08-31 18:00:53</time></span>
        </span>
        
        
        
        <span class="post-meta-divider divider">|</span>
        
        <span class="post-categories">
          
          <i class="far fa-folder-open"></i><span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/解題/" itemprop="url" rel="index"><span itemprop="name">解題</span></a></span><i class="fas fa-angle-right"></i><span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/解題/TIOJ/" itemprop="url" rel="index"><span itemprop="name">TIOJ</span></a></span>
        </span>
        
        
      </div>
    </header>
    <main class="post-main" itemprop="articleBody">
      
      <p>連結：<a href="https://tioj.ck.tp.edu.tw/problems/1418" target="_blank" rel="noopener">https://tioj.ck.tp.edu.tw/problems/1418</a></p>
<h1 id="題目大意"><a href="#題目大意" class="headerlink" title="題目大意"></a>題目大意</h1><p>有$N$位同學要每三個人湊成一組，每湊成一組可以計算出一個雷度，問要怎麼湊才能使整體雷度最低。</p>
<h1 id="題解"><a href="#題解" class="headerlink" title="題解"></a>題解</h1><p>這題目名稱感覺挺容易起爭議的，而且這題時限我覺得設計的很差，只有特定的實作才能過最後一筆。</p>
<p>如果不記最後一筆，可以很簡單的用位元DP處裡掉，因為可以任選三人，DP時因此可以固定先選一人，再任選兩人，讓枚舉的複雜度變低，可以再$O(N^2 2^N)$的時間完成。</p>
<p>$$dp[S]=\begin{cases}0 &amp; \text{if }S=\emptyset \\ \min\{dp[S-\{i,j,k\}]+v[i][j]+v[j][k]+v[k][i]\}&amp;\text{otherwise}\end{cases}$$</p>
<p>其中 $i,j,k\in S$</p>
<p>要過最後一筆，我試過先提出可以用行的數字放在新的陣列中處裡，不過這樣反而讓其他的優化處理變差。然後參考網路上有的實作，DP變成向後更新數字，然後就過了，我覺得很莫名。約有4倍的速度差，我個人認為是這樣處裡能留下的快取比向前的還要來的多，不過一般出題卡這種細節我覺得不太行。</p>
<h1 id="AC-Code"><a href="#AC-Code" class="headerlink" title="AC Code"></a>AC Code</h1><figure class="hljs highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">int</span> dp[<span class="hljs-number">1</span>&lt;&lt;<span class="hljs-number">21</span>];<br><span class="hljs-keyword">int</span> R[<span class="hljs-number">21</span>][<span class="hljs-number">21</span>];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span><br></span>&#123;<br>    ios::sync_with_stdio(<span class="hljs-literal">false</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-keyword">int</span> T,N;<br>    <span class="hljs-built_in">cin</span>&gt;&gt;T;<br><br>    <span class="hljs-keyword">while</span>(T--)<br>    &#123;<br>        <span class="hljs-built_in">cin</span>&gt;&gt;N;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;N;++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>;j&lt;N;++j)<br>                <span class="hljs-built_in">cin</span>&gt;&gt;R[i][j];<br><br>        <span class="hljs-keyword">int</span> ans = (<span class="hljs-number">1</span>&lt;&lt;N)<span class="hljs-number">-1</span>;<br>        <span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> test_bit(a,b) ((a)&amp;(1&lt;&lt;(b)))</span><br>        <span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pw(a) (1&lt;&lt;(a))</span><br>        <span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pr(i,j,k) (pw(i)|pw(j)|pw(k))</span><br>        <span class="hljs-keyword">int</span> i,j,k;<br>        <span class="hljs-built_in">memset</span>(dp, <span class="hljs-number">0x3f</span>, <span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">int</span>)*(<span class="hljs-number">1</span>+ans));<br>        dp[<span class="hljs-number">0</span>]=<span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> v=<span class="hljs-number">0</span>;v&lt;ans;++v)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(dp[v]==<span class="hljs-number">0x3f3f3f3f</span>)<span class="hljs-keyword">continue</span>;<br>            i=__builtin_ctz(~v);<br><br>            <span class="hljs-keyword">for</span>(j=i+<span class="hljs-number">1</span>;j&lt;N;++j)<br>                <span class="hljs-keyword">if</span>( !test_bit(v,j) )<br>                &#123;<br>                    <span class="hljs-keyword">for</span>(k=j+<span class="hljs-number">1</span>;k&lt;N;++k)<br>                        <span class="hljs-keyword">if</span>( !test_bit(v,k) )<br>                            <span class="hljs-keyword">if</span>( dp[v|pr(i,j,k)] &gt; dp[v]+R[i][j]+R[j][k]+R[k][i] )<br>                                dp[v|pr(i,j,k)] = dp[v]+R[i][j]+R[j][k]+R[k][i];<br>                &#125;<br>        &#125;<br>        <span class="hljs-built_in">cout</span>&lt;&lt;dp[ans]&lt;&lt;<span class="hljs-string">'\n'</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
      
    </main>
    <footer class="post-footer">
      
      <div class="post-tags">
        
        <a class="post-tag button" href="/tags/位元DP/" rel="tag"><i class="fas fa-tags"></i>位元DP</a>
        
      </div>
      
    </footer>
  </article>
  
  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fas fa-angle-right" aria-label="下一樣"></i></a>
  </nav>
  
  
</div>

          </div>
          
          
          
<aside class="sidebar" id="sidebar" style="background: url(/images/background.png);">
  
  <div class="search">
    <div class="form-group">
      <i class="fas fa-search"></i><input type="search" id="search-input" name="q" results="0" placeholder="搜索" class="form-control"/>
    </div>
  </div>
  <div class="search-result-box" id="search-result"></div>
  
  
<div class="info sidebar-item" id="info">
  
  <img class="author-avatar" src="/images/avatar.jpg" alt="LFsWang">
  
  <h1 class="author-name">LFsWang</h1>
  <h2 class="author-description"></h2>
  <div class="site-count">
    
    <div class="archives-count">
      <div class="site-count-title">歸檔</div>
      <div><a href="/archives/">16</a></div>
    </div>
    
    
    
    <span class="site-count-divider divider">|</span>
    
    <div class="categories-count">
      <div class="site-count-title">分類</div>
      <div><a href="/categories/">4</a></div>
    </div>
    
    
    
    <span class="site-count-divider divider">|</span>
    
    <div class="tags-count">
      <div class="site-count-title">標籤</div>
      <div><a href="/tags/">16</a></div>
    </div>
    
  </div>
  
  <div class="rss">
    <a class="rss-link button sidebar-item" href="/atom.xml"><i class="fas fa-rss"></i>RSS</a>
  </div>
  
</div>


  <div class="sidebar-sticky">
    
    
    <hr>
    <div class="social-link sidebar-item">
      <div><i class="far fa-address-card"></i>社交鏈接</p></div>
      <ul>
        
        <li><i class="fab fa-github"></i><a href="https://github.com/LFsWang" target="_blank">GitHub</a></li>
        
        <li><i class="fab fa-facebook"></i><a href="https://www.facebook.com/Sylveon-1580376772211056/?ref=bookmarks" target="_blank">Facebook</a></li>
        
      </ul>
    </div>
    
    
    <hr>
    <div class="blogroll sidebar-item">
      <div><i class="fas fa-link"></i>友情鏈接</div>
      <ul>
        
        <li><a href="https://en.cppreference.com/w/" target="_blank">CppReference</a></li>
        
        <li><a href="https://www.tfcis.org/" target="_blank">TFcis</a></li>
        
      </ul>
    </div>
    
  </div>
</aside>


          
        </div>
      </div>
    </main>
    
<footer id="footer" class="footer" style="background: #33363b;">
  <div class="container">
    <div class="back-to-top">
      <button id="back-to-top"><i class="fas fa-angle-double-up" aria-label="回到頂部"></i></button>
    </div>
    <div class="footer-container">
      <div class="footer-left">
        <div class="copyright">
          <span class="author">LFsWang</span><span class="year"><i class="far fa-copyright"></i>2018</span><span class="creative-commons"><i class="fab fa-creative-commons"></i><a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">BY-NC-SA 4.0</a></span>
        </div>
        
        <div class="busuanzi">
          <span id="busuanzi_container_site_pv"><i class="fas fa-eye" aria-label="網站點擊量" aria-hidden="false"></i><span id="busuanzi_value_site_pv"></span></span><span id="busuanzi_container_site_uv"><i class="fas fa-user" aria-label="網站用戶數" aria-hidden="false"></i><span id="busuanzi_value_site_uv"></span></span><span id="busuanzi_container_page_pv"><i class="far fa-file-alt"></i><span id="busuanzi_value_page_pv" aria-label="頁面點擊量" aria-hidden="false"></span></span>
        </div>
        
      </div>
      <div class="footer-right">
        <div class="custom-info">
          
        </div>
        <div class="powered-by">
          由 <a href="https://hexo.io/" target="_blank">Hexo</a> 強力驅動 | 主題 <a href="https://github.com/AlynxZhou/hexo-theme-aria/" target="_blank">ARIA</a>
        </div>
      </div>
    </div>
  </div>
</footer>


  <script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"right","width":100,"height":200},"mobile":{"show":true}});</script></body>
</html>
